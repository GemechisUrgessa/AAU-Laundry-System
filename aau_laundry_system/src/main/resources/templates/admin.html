<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="16x16" th:href="@{/images/tg.ico}">
    <link type="text/css" rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
   
    <title>Admin dashboard</title>
</head>
<body class="d-flex flex-column min-vh-100" style="overflow-x:hidden">
  <header>
 <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow" style="background-color: rgb(172, 205, 238)!important;z-index: 1;">
  <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" th:href="@{/}"><img class='img-fluid rounded-circle' style="width:60px" th:src="@{images/logo.svg}" alt="Laundry logo"></a>

  <div class="navbar-nav align-content-between">
    <div class="nav-item text-nowrap">
    <button class="navbar-toggler d-md-none collapsed mr-5 text-dark " data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation"style="margin-right: 2rem;"><i class="fas fa-bars mr-4"></i></button>
    </div>
  </div>
</nav>
</header>
<div class="container-fluid">
  <div class="row">
    <aside id="sidebarMenu" class="col-md-auto col-lg-2 d-md-block bg-light sidebar collapse" style="height: 100vh;">
      <div class="position-sticky pt-3">
        <ul class="nav flex-column">
          <li class="nav-item my-1">
            <a class="nav-link active list-group-item-action rounded-pill btn btn-link text-secondary" aria-current="page" href="#" style="color: blue !important;">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home" aria-hidden="true"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
              Dashboard
            </a>
          </li>
          <li class="nav-item my-1">
            <a class="nav-link list-group-item-action rounded-pill btn btn-link " id="btn3" th:href="@{/orderDashBoard}">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file" aria-hidden="true"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
              Orders
            </a>
          </li>
          <li class="nav-item my-1">
            <a class="nav-link list-group-item-action rounded-pill btn btn-link "id="btn"data-toggle="modal" data-target="#exampleModalLong" href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-cart" aria-hidden="true"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
              Update service
            </a>
          </li>
          <li class="nav-item my-1 ">
            <a class="nav-link list-group-item-action rounded-pill btn btn-link " th:href="@{/logout}">
             <i class="fas fa-sign-out-alt"></i> 
              Log out
            </a>
          </li>

      </div>
       </aside>
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2 text-muted">Dashboard</h1>
        <div class="btn-toolbar mb-2 mb-md-0">
          <button type="button" class="btn btn-sm btn-outline-secondary ">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            Info
          </button>
        </div>
      </div>

      

     <div class="container-fluid" style="max-width: 1500px;">
        <div class="row">
        <div class="col-md-7">
            <div class="card-group">
                <div class="card text-dark bg-light mb-3 mt-5 mx-5 shadow bg-white rounded" style="min-width: 150px;">
                    <div class="card-body">
                      <div class="row align-items-center no-gutters">
                        <div class="col me-2">
                            <div class="text-uppercase text-secondary fw-bold text-xs mb-1"><span>Total User</span></div>
                            <div class="text-dark fw-bold h5 mb-0"><span th:text = "${totalUsers}"></span></div>
                        </div>
                        <div class="col-auto"><i class="fas fa-users text-gray-300"></i></div>
                    </div>
                    </div>
                </div>
 
                <div class="card text-dark bg-light mb-3 mt-5 mx-5 shadow bg-white rounded" style="min-width: 150px;">
                    <div class="card-body">
                      <div class="row align-items-center no-gutters">
                        <div class="col me-2">
                            <div class="text-uppercase text-primary fw-bold text-xs mb-1"><span>Total Order</span></div>
                            <div class="text-dark fw-bold h5 mb-0"><span th:text = "${totalOrders}"></span></div>
                        </div>
                        <div class="col-auto"><i class="fas fa-calendar fa-2x text-gray-300"></i></div>
                    </div>
                    </div>
                </div>
                <div class="card text-dark bg-light mb-3 mt-5 mx-5 shadow bg-white rounded" style="min-width: 150px;">
                    <div class="card-body">
                      <div class="row align-items-center no-gutters">
                        <div class="col me-2">
                            <div class="text-uppercase text-warning fw-bold text-xs mb-1"><span>Total Earnings</span></div>
                            <div class="text-dark fw-bold h5 mb-0"><span th:text = "${totalEarning}"></span></div>
                        </div>
                        <div class="col-auto"><i class="fas fa-comments-dollar text-gray-300"></i></div>
                    </div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col">
                    <table class="table" style="min-width: 320px; border-color: blue;">
                        <thead>
                            <tr>
                                <th scope="col"></th>
                                <th scope="col">Student ID</th>
                                <th scope="col">Payment Amount</th>
                                <th scope="col">Cloth Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each = "order:${orders}">
                                <th th:text = "${order.id}"scope="row"></th>
                                <td th:text = "${order.user.username}"></td>
                                <td th:text = "${order.paymentAmount}"></td>
                                <td th:text = "${order.quantity}"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>    
        <div class="col-md-5" style="min-width: 320px;">
            <div class="col d-flex justify-content-center mt-5 row h-100 justify-content-center align-items-center">
                <div class="row h-100 justify-content-center align-items-center shadow bg-white rounded " style="margin-bottom: 6rem;">
                        <!-- <div class="mt-3">
                            <p class="h3 text-center text-secondary">RECENT UPDATE</p>
                        </div> -->
                        <!-- <div class="justify-content-center" style="height: fit-content; width: 80%;">
                            <div class="card bg-light mb-3">
                                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Cumque soluta error, qui accusamus minus neque! Voluptas repellat velit illo, cupiditate eligendi dignissimos animi, in quas expedita, veritatis nemo ullam temporibus?
                            </div>
                        </div> -->
                        <!-- <div class="row">
                            <div class="col">
                                <div>
                                    <p class="h3 text-center text-secondary"> ANALYTICS</p>
                                </div>
                                <div class="card mx-auto" style="max-width: 50%;">
                                    <div class="card-body col-sm-auto justify-content-center mx-auto">
                                        <p class="h6">here goes the Analytics</p>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <div class="d-grid gap-2 col-6 mx-auto my-5" style="width:auto;">
  
                          <button type="button" class="btn btn-outline-primary mx-auto block" id="btn1"data-toggle="modal" data-target="#exampleModalLong">UPDATE SERVICE</button>
<!-- ------------------------------------------------------------------------------------------------------------------------------------------ -->
                        

               <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                              <div class="modal-content"style="max-width: 90rem;">
                                <div class="modal-header">
                                  <h5 class="modal-title text-dark" id="exampleModalLongTitle">Make some Updates</h5>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true" id="close" class="bg-light" ><i class="fas fa-times bg-light"></i></span>
                                  </button>
                                </div>
                            <div class="modal-body" >
                          <div class="container-fluid">
                              <form th:object = "${holder}" th:action = "@{/cloth/update}" method ="POST">
                                <h1 class="fs-4 text-center text-secondary">Update the Cost for cloth type</h1>
                            <div th:each = "cloth, additional :*{clothes}" class="row justify-content-center align-items-center shadow bg-white rounded my1">
                              <input readonly th:field= "*{clothes[__${additional.index}__].category}" class="col-6 border-0"></input>
                              <div class="col-md-4 ">
                                  <input th:field="*{clothes[__${additional.index}__].washPrice}" type="text" class="col-6 m-2">
                              </div>
                              </div>
                              <div class="text-center">
                                <input class = "btn btn-primary my-2" type = "submit" value = "update">
                              </div>
                          </form> 
                          
                          <form th:object="${newCloth}" th:action="@{/cloth/new}" method="POST">
                           <h1 class="fs-4 text-center my-3 text-secondary">ADD new cloth type</h1>
                            <div class="shadow bg-white rounded my-1">
                            <div class="row justify-content-center align-items-center">
                              <div class="col-md-auto">Cloth type</div>
                              <div class="col-md-4 "><input th:field ="*{category}" type="text" class="col-sm-12 m-3" aria-label="Quantity" aria-describedby="basic-addon1" for="basic-addon1"></div>
                            </div>
                            <div class="row justify-content-center align-items-center">
                              <div class="col-md-auto">Cost</div>
                              <div class="col-md-4 ">
                                  <input type="text" th:field ="*{washPrice}" class="col-sm-12 m-3" aria-label="Quantity" aria-describedby="basic-addon1" for="basic-addon1">
                              </div>
                            </div>
                            <div class="text-center">
                              <input class = "btn btn-primary my-2" type = "submit" value = "Create">

                            </div>
                           
                            </div>

                          </form>
                        
  
                           <form th:object = "${holder}" th:action="@{/cloth/delete}" method = "POST">
                            <h1 class="fs-4 text-center my-3 text-secondary">Delete cloth type</h1>
                            <div class="shadow bg-white rounded my-1">
                            <div class="row justify-content-center align-items-center">
                              <div class="col-md-auto">Cloth type</div>
                              <div class="col-md-auto">
                                <select th:field= "*{clothToBeDeleted}" class = 'class="col-md-4 "'>
                                  <option th:each = " cloth: ${clothes}" th:text = "${cloth.category}" th:value="${cloth.category}" class="col-sm-12 m-3"></option>
                                </select>

                              </div>
                           
                            </div>
                            <div class="row">
                              <div class="text-center">
                                <input class = "btn btn-primary my-2" type = "submit" value = "Delete">

                              </div>
                            </div>

                           
                           
                            </div>
                          </form>
                           
                          </div>
                        </div>
                        <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="close1">CLOSE</button>
                              </div>
                              </div>
                            </div>
                          </div>
<!-- ----------------------------------------------------------------------------------------------------------------------------------------- -->
                          

                    </div>
                </div>
            </div>
      
      
        </div>
    </div>
    </div>

    </main>
 <footer class="bg-secondary sticky-footer" style="background-color: rgba(var(--bs-light-rgb),var(--bs-bg-opacity)) !important;padding: 2rem 0;
flex-shrink: 0;">
    <div class="container my-auto">
        <div class="text-center my-auto copyright"><span>Copyright &copy; 2022 AAU Laundry, Inc. All Rights Reserved</span></div>
    </div>
</footer>
<script src="https://kit.fontawesome.com/0605e8c2de.js" crossorigin="anonymous"></script>
<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
<script
src="https://code.jquery.com/jquery-3.6.0.min.js"
integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
crossorigin="anonymous"></script>
<script type="text/javascript">
  $('#btn').on('click',function(){
      $('#exampleModalLong').modal('show');
  });
   $('#btn3').on('click',function(){
      $('#exampleModalLong3').modal('show');
  });
   $('#btn1').on('click',function(){
      $('#exampleModalLong').modal('show');
  });
   $('#close').on('click',function(){
      $('#exampleModalLong').modal('hide');
  });
   $('#close1').on('click',function(){
      $('#exampleModalLong').modal('hide');
  });
</script>
</body>
</html>